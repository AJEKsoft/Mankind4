<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Mankind</title>
    <meta charset="UTF-8"/>

    <!-- Some simple style. -->
    <style>
      body { margin: 0; overflow: hidden; }
      #gl-canvas, #ui-overlay { width: 100vw; height: 100vh }
      #ui-overlay { position: absolute; pointer-events: none; padding: 1em; }
      #ui-overlay span { font-size: 32px; font-family: sans-serif; -webkit-text-stroke: 1px white; }
    </style>

    <!-- Shaders. -->
    <script type="text/plain" id="chunk.vs" async>
      #version 300 es

      in ivec2 vpos;

      uniform mat4 view, projection;

      const int chunkSize = 128;
      
      void main () {
	  ivec3 voxel_pos = ivec3 (
	      (gl_InstanceID / (chunkSize * chunkSize)) * 2,
	      ((gl_InstanceID / chunkSize) % chunkSize) * 2,
	      (gl_InstanceID % chunkSize) * 2
	  );
	  
	  gl_Position = projection * view * vec4 (voxel_pos, 1.0);
	  gl_Position.xy += vec2 (vpos.x, vpos.y);
      }
    </script>

    <script type="text/plain" id="chunk.fs" async>
      #version 300 es
      precision highp float;

      out vec4 color;

      void main () {
	  color = vec4 (1, 1, 1, 1);
      }
    </script>
    
    <!-- Scripts. -->
    <script src="src/math.js" async></script>
    <script src="src/camera.js" async></script>
    <script src="src/program.js" async></script>
    <script src="src/mesh.js" async></script>
    <script src="src/index.js" defer></script>
  </head>

  <body>
    <div id="ui-overlay">
      <span>FPS: <span id="fps">0</span></span>
    </div>
    
    <canvas id="gl-canvas"></canvas>
  </body>
</html>
